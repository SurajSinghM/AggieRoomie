"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/google-places";
exports.ids = ["pages/api/google-places"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgoogle-places&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgoogle-places.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgoogle-places&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgoogle-places.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_google_places_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\google-places.js */ \"(api)/./pages/api/google-places.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_google_places_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_google_places_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/google-places\",\n        pathname: \"/api/google-places\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_google_places_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdvb2dsZS1wbGFjZXMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2dvb2dsZS1wbGFjZXMuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDMkQ7QUFDM0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHdEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx3REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2dpZXJvb21pZS8/YjFkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGdvb2dsZS1wbGFjZXMuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nb29nbGUtcGxhY2VzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ29vZ2xlLXBsYWNlc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgoogle-places&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgoogle-places.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/google-places.js":
/*!************************************!*\
  !*** ./pages/api/google-places.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apartmentsHandler: () => (/* binding */ apartmentsHandler),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    // If placeId is provided, fetch details for a specific place\n    if (req.query.placeId) {\n        const placeId = req.query.placeId;\n        if (false) {}\n        try {\n            const detailsUrl = `https://maps.googleapis.com/maps/api/place/details/json?place_id=${placeId}&fields=name,formatted_address,geometry,formatted_phone_number,website,opening_hours,plus_code,types,photos&key=${\"AIzaSyAE8kJJUCAGmP_18EnSIeba24ugBzghrlk\"}`;\n            const detailsResponse = await fetch(detailsUrl);\n            const detailsData = await detailsResponse.json();\n            if (!detailsData.result) {\n                return res.status(404).json({\n                    message: \"Place details not found\"\n                });\n            }\n            res.status(200).json(detailsData.result);\n            return;\n        } catch (error) {\n            res.status(500).json({\n                message: \"Failed to fetch place details\",\n                error: error.message\n            });\n            return;\n        }\n    }\n    const { dormName } = req.query;\n    if (!dormName) {\n        return res.status(400).json({\n            message: \"Dorm name is required\"\n        });\n    }\n    if (false) {}\n    try {\n        console.log(\"Fetching reviews for:\", dormName);\n        // Search for the dorm\n        const searchQueries = [\n            `${dormName} Texas A&M University`,\n            `${dormName} dorm Texas A&M`,\n            `${dormName} College Station TX`\n        ];\n        let placeId = null;\n        let placeName = \"\";\n        for (const query of searchQueries){\n            const searchUrl = `https://maps.googleapis.com/maps/api/place/textsearch/json?query=${encodeURIComponent(query)}&key=${\"AIzaSyAE8kJJUCAGmP_18EnSIeba24ugBzghrlk\"}`;\n            const searchResponse = await fetch(searchUrl);\n            const searchData = await searchResponse.json();\n            if (searchData.results && searchData.results.length > 0) {\n                const result = searchData.results[0];\n                // Check if this is a relevant result (university, lodging, etc.)\n                const relevantTypes = [\n                    \"university\",\n                    \"lodging\",\n                    \"establishment\",\n                    \"point_of_interest\"\n                ];\n                const isRelevant = result.types.some((type)=>relevantTypes.includes(type));\n                if (isRelevant) {\n                    placeId = result.place_id;\n                    placeName = result.name;\n                    console.log(\"Found place:\", placeName, \"with ID:\", placeId);\n                    break;\n                }\n            }\n        }\n        if (!placeId) {\n            console.log(\"No place found for:\", dormName);\n            return res.status(404).json({\n                message: \"No relevant place found\"\n            });\n        }\n        // Get detailed information including reviews\n        const detailsUrl = `https://maps.googleapis.com/maps/api/place/details/json?place_id=${placeId}&fields=name,rating,reviews,user_ratings_total&key=${\"AIzaSyAE8kJJUCAGmP_18EnSIeba24ugBzghrlk\"}`;\n        const detailsResponse = await fetch(detailsUrl);\n        const detailsData = await detailsResponse.json();\n        if (!detailsData.result) {\n            console.log(\"No details found for place ID:\", placeId);\n            return res.status(404).json({\n                message: \"Place details not found\"\n            });\n        }\n        const place = detailsData.result;\n        const reviewData = {\n            name: place.name,\n            rating: place.rating || 0,\n            reviews: place.user_ratings_total || 0,\n            recentReviews: []\n        };\n        // Extract recent reviews if available\n        if (place.reviews && place.reviews.length > 0) {\n            reviewData.recentReviews = place.reviews.slice(0, 3).map((review)=>({\n                    author: review.author_name,\n                    rating: review.rating,\n                    text: review.text.substring(0, 200) + (review.text.length > 200 ? \"...\" : \"\")\n                }));\n        }\n        console.log(\"Returning review data:\", reviewData);\n        res.status(200).json(reviewData);\n    } catch (error) {\n        console.error(\"Error in Google Places API:\", error);\n        res.status(500).json({\n            message: \"Failed to fetch place data\"\n        });\n    }\n}\n// New handler for apartment search\nasync function apartmentsHandler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    const { near, radius } = req.query;\n    const searchLocation = near || \"Texas A&M University, College Station, TX\";\n    const searchRadius = radius || 3000; // in meters\n    if (false) {}\n    try {\n        // Get coordinates for the search location (campus)\n        const geocodeUrl = `https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(searchLocation)}&key=${\"AIzaSyAE8kJJUCAGmP_18EnSIeba24ugBzghrlk\"}`;\n        const geocodeResponse = await fetch(geocodeUrl);\n        const geocodeData = await geocodeResponse.json();\n        if (!geocodeData.results || geocodeData.results.length === 0) {\n            return res.status(404).json({\n                message: \"Location not found\"\n            });\n        }\n        const { lat, lng } = geocodeData.results[0].geometry.location;\n        // Run multiple textsearch queries for broader apartment coverage\n        const searchKeywords = [\n            \"apartments\",\n            \"student apartments\",\n            \"student housing\",\n            \"condos\",\n            \"lofts\",\n            \"residence\",\n            \"college apartments\",\n            \"university apartments\",\n            \"housing\",\n            \"Aspire\",\n            \"City Heights at College Station\"\n        ];\n        let allPlaces = [];\n        for (const keyword of searchKeywords){\n            const url = `https://maps.googleapis.com/maps/api/place/textsearch/json?query=${encodeURIComponent(keyword + \" near \" + searchLocation)}&location=${lat},${lng}&radius=${searchRadius}&key=${\"AIzaSyAE8kJJUCAGmP_18EnSIeba24ugBzghrlk\"}`;\n            const resp = await fetch(url);\n            const data = await resp.json();\n            if (data.results && data.results.length > 0) {\n                allPlaces = allPlaces.concat(data.results);\n            }\n        }\n        // Deduplicate by place_id\n        const seen = new Set();\n        let places = allPlaces.filter((place)=>{\n            if (seen.has(place.place_id)) return false;\n            seen.add(place.place_id);\n            return true;\n        });\n        // Limit to 20 places for Distance Matrix API\n        places = places.slice(0, 20);\n        if (places.length === 0) {\n            return res.status(404).json({\n                message: \"No apartments found\"\n            });\n        }\n        // Prepare destinations for Distance Matrix\n        const destinations = places.map((place)=>`${place.geometry.location.lat},${place.geometry.location.lng}`).join(\"|\");\n        const origin = `${lat},${lng}`;\n        // Get distances for drive, bike, walk\n        let driveRes, bikeRes, walkRes;\n        try {\n            [driveRes, bikeRes, walkRes] = await Promise.all([\n                fetch(`https://maps.googleapis.com/maps/api/distancematrix/json?origins=${origin}&destinations=${destinations}&mode=driving&key=${\"AIzaSyAE8kJJUCAGmP_18EnSIeba24ugBzghrlk\"}`),\n                fetch(`https://maps.googleapis.com/maps/api/distancematrix/json?origins=${origin}&destinations=${destinations}&mode=bicycling&key=${\"AIzaSyAE8kJJUCAGmP_18EnSIeba24ugBzghrlk\"}`),\n                fetch(`https://maps.googleapis.com/maps/api/distancematrix/json?origins=${origin}&destinations=${destinations}&mode=walking&key=${\"AIzaSyAE8kJJUCAGmP_18EnSIeba24ugBzghrlk\"}`)\n            ]);\n        } catch (err) {\n            return res.status(500).json({\n                message: \"Failed to fetch distance data from Google API\",\n                error: err.message\n            });\n        }\n        let driveData, bikeData, walkData;\n        try {\n            [driveData, bikeData, walkData] = await Promise.all([\n                driveRes.json(),\n                bikeRes.json(),\n                walkRes.json()\n            ]);\n        } catch (err) {\n            return res.status(500).json({\n                message: \"Failed to parse distance data from Google API\",\n                error: err.message\n            });\n        }\n        // Apartment filtering logic\n        const apartmentTypes = [\n            \"apartment\",\n            \"real_estate_agency\",\n            \"premise\",\n            \"point_of_interest\",\n            \"establishment\"\n        ];\n        const excludedTypes = [\n            \"lodging\",\n            \"hotel\",\n            \"motel\",\n            \"inn\",\n            \"hostel\",\n            \"guest_house\",\n            \"bed_and_breakfast\"\n        ];\n        const apartmentKeywords = [\n            \"apartment\",\n            \"apartments\",\n            \"student\",\n            \"housing\",\n            \"lofts\",\n            \"condo\",\n            \"residence\",\n            \"college\",\n            \"university\",\n            \"heights\",\n            \"aspire\",\n            \"city heights\"\n        ];\n        const apartments = places.filter((place)=>{\n            // Exclude hotels, motels, inns, and similar lodging\n            if (place.types.some((type)=>excludedTypes.includes(type))) return false;\n            // Must have an apartment-related type or keyword in the name\n            const nameLower = place.name.toLowerCase();\n            const hasType = place.types.some((type)=>apartmentTypes.includes(type));\n            const hasKeyword = apartmentKeywords.some((kw)=>nameLower.includes(kw));\n            return hasType || hasKeyword;\n        }).map((place, i)=>({\n                name: place.name,\n                address: place.formatted_address || place.vicinity,\n                rating: place.rating || null,\n                userRatingsTotal: place.user_ratings_total || null,\n                placeId: place.place_id,\n                location: place.geometry.location,\n                icon: place.icon,\n                types: place.types,\n                photoUrl: place.photos && place.photos.length > 0 ? `https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=${place.photos[0].photo_reference}&key=${\"AIzaSyAE8kJJUCAGmP_18EnSIeba24ugBzghrlk\"}` : null,\n                distance: {\n                    drive: driveData.rows[0].elements[i].status === \"OK\" ? driveData.rows[0].elements[i] : null,\n                    bike: bikeData.rows[0].elements[i].status === \"OK\" ? bikeData.rows[0].elements[i] : null,\n                    walk: walkData.rows[0].elements[i].status === \"OK\" ? walkData.rows[0].elements[i] : null\n                }\n            }));\n        res.status(200).json({\n            apartments\n        });\n    } catch (error) {\n        res.status(500).json({\n            message: \"Failed to fetch apartments\",\n            error: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZ29vZ2xlLXBsYWNlcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFlLGVBQWVBLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUM1QyxJQUFJRCxJQUFJRSxNQUFNLEtBQUssT0FBTztRQUN4QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7UUFBcUI7SUFDOUQ7SUFFQSw2REFBNkQ7SUFDN0QsSUFBSUwsSUFBSU0sS0FBSyxDQUFDQyxPQUFPLEVBQUU7UUFDckIsTUFBTUEsVUFBVVAsSUFBSU0sS0FBSyxDQUFDQyxPQUFPO1FBQ2pDLElBQUksS0FBOEMsRUFBRSxFQUVuRDtRQUNELElBQUk7WUFDRixNQUFNSSxhQUFhLENBQUMsaUVBQWlFLEVBQUVKLFFBQVEsZ0hBQWdILEVBQUVDLHlDQUE2QyxDQUFDLENBQUM7WUFDaFEsTUFBTUksa0JBQWtCLE1BQU1DLE1BQU1GO1lBQ3BDLE1BQU1HLGNBQWMsTUFBTUYsZ0JBQWdCUixJQUFJO1lBQzlDLElBQUksQ0FBQ1UsWUFBWUMsTUFBTSxFQUFFO2dCQUN2QixPQUFPZCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFQyxTQUFTO2dCQUEwQjtZQUNuRTtZQUNBSixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDVSxZQUFZQyxNQUFNO1lBQ3ZDO1FBQ0YsRUFBRSxPQUFPQyxPQUFPO1lBQ2RmLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7Z0JBQWlDVyxPQUFPQSxNQUFNWCxPQUFPO1lBQUM7WUFDdEY7UUFDRjtJQUNGO0lBRUEsTUFBTSxFQUFFWSxRQUFRLEVBQUUsR0FBR2pCLElBQUlNLEtBQUs7SUFDOUIsSUFBSSxDQUFDVyxVQUFVO1FBQ2IsT0FBT2hCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztRQUF3QjtJQUNqRTtJQUVBLElBQUksS0FBOEMsRUFBRSxFQUduRDtJQUVELElBQUk7UUFDRmEsUUFBUUMsR0FBRyxDQUFDLHlCQUF5QkY7UUFFckMsc0JBQXNCO1FBQ3RCLE1BQU1HLGdCQUFnQjtZQUNwQixDQUFDLEVBQUVILFNBQVMscUJBQXFCLENBQUM7WUFDbEMsQ0FBQyxFQUFFQSxTQUFTLGVBQWUsQ0FBQztZQUM1QixDQUFDLEVBQUVBLFNBQVMsbUJBQW1CLENBQUM7U0FDakM7UUFFRCxJQUFJVixVQUFVO1FBQ2QsSUFBSWMsWUFBWTtRQUVoQixLQUFLLE1BQU1mLFNBQVNjLGNBQWU7WUFDakMsTUFBTUUsWUFBWSxDQUFDLGlFQUFpRSxFQUFFQyxtQkFBbUJqQixPQUFPLEtBQUssRUFBRUUseUNBQTZDLENBQUMsQ0FBQztZQUV0SyxNQUFNZ0IsaUJBQWlCLE1BQU1YLE1BQU1TO1lBQ25DLE1BQU1HLGFBQWEsTUFBTUQsZUFBZXBCLElBQUk7WUFFNUMsSUFBSXFCLFdBQVdDLE9BQU8sSUFBSUQsV0FBV0MsT0FBTyxDQUFDQyxNQUFNLEdBQUcsR0FBRztnQkFDdkQsTUFBTVosU0FBU1UsV0FBV0MsT0FBTyxDQUFDLEVBQUU7Z0JBRXBDLGlFQUFpRTtnQkFDakUsTUFBTUUsZ0JBQWdCO29CQUFDO29CQUFjO29CQUFXO29CQUFpQjtpQkFBb0I7Z0JBQ3JGLE1BQU1DLGFBQWFkLE9BQU9lLEtBQUssQ0FBQ0MsSUFBSSxDQUFDQyxDQUFBQSxPQUFRSixjQUFjSyxRQUFRLENBQUNEO2dCQUVwRSxJQUFJSCxZQUFZO29CQUNkdEIsVUFBVVEsT0FBT21CLFFBQVE7b0JBQ3pCYixZQUFZTixPQUFPb0IsSUFBSTtvQkFDdkJqQixRQUFRQyxHQUFHLENBQUMsZ0JBQWdCRSxXQUFXLFlBQVlkO29CQUNuRDtnQkFDRjtZQUNGO1FBQ0Y7UUFFQSxJQUFJLENBQUNBLFNBQVM7WUFDWlcsUUFBUUMsR0FBRyxDQUFDLHVCQUF1QkY7WUFDbkMsT0FBT2hCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7WUFBMEI7UUFDbkU7UUFFQSw2Q0FBNkM7UUFDN0MsTUFBTU0sYUFBYSxDQUFDLGlFQUFpRSxFQUFFSixRQUFRLG1EQUFtRCxFQUFFQyx5Q0FBNkMsQ0FBQyxDQUFDO1FBQ25NLE1BQU1JLGtCQUFrQixNQUFNQyxNQUFNRjtRQUNwQyxNQUFNRyxjQUFjLE1BQU1GLGdCQUFnQlIsSUFBSTtRQUU5QyxJQUFJLENBQUNVLFlBQVlDLE1BQU0sRUFBRTtZQUN2QkcsUUFBUUMsR0FBRyxDQUFDLGtDQUFrQ1o7WUFDOUMsT0FBT04sSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsU0FBUztZQUEwQjtRQUNuRTtRQUVBLE1BQU0rQixRQUFRdEIsWUFBWUMsTUFBTTtRQUNoQyxNQUFNc0IsYUFBYTtZQUNqQkYsTUFBTUMsTUFBTUQsSUFBSTtZQUNoQkcsUUFBUUYsTUFBTUUsTUFBTSxJQUFJO1lBQ3hCQyxTQUFTSCxNQUFNSSxrQkFBa0IsSUFBSTtZQUNyQ0MsZUFBZSxFQUFFO1FBQ25CO1FBRUEsc0NBQXNDO1FBQ3RDLElBQUlMLE1BQU1HLE9BQU8sSUFBSUgsTUFBTUcsT0FBTyxDQUFDWixNQUFNLEdBQUcsR0FBRztZQUM3Q1UsV0FBV0ksYUFBYSxHQUFHTCxNQUFNRyxPQUFPLENBQUNHLEtBQUssQ0FBQyxHQUFHLEdBQUdDLEdBQUcsQ0FBQ0MsQ0FBQUEsU0FBVztvQkFDbEVDLFFBQVFELE9BQU9FLFdBQVc7b0JBQzFCUixRQUFRTSxPQUFPTixNQUFNO29CQUNyQlMsTUFBTUgsT0FBT0csSUFBSSxDQUFDQyxTQUFTLENBQUMsR0FBRyxPQUFRSixDQUFBQSxPQUFPRyxJQUFJLENBQUNwQixNQUFNLEdBQUcsTUFBTSxRQUFRLEVBQUM7Z0JBQzdFO1FBQ0Y7UUFFQVQsUUFBUUMsR0FBRyxDQUFDLDBCQUEwQmtCO1FBQ3RDcEMsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ2lDO0lBQ3ZCLEVBQUUsT0FBT3JCLE9BQU87UUFDZEUsUUFBUUYsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0NmLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztRQUE2QjtJQUMvRDtBQUNGO0FBRUEsbUNBQW1DO0FBQzVCLGVBQWU0QyxrQkFBa0JqRCxHQUFHLEVBQUVDLEdBQUc7SUFDOUMsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLE9BQU87UUFDeEIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxTQUFTO1FBQXFCO0lBQzlEO0lBRUEsTUFBTSxFQUFFNkMsSUFBSSxFQUFFQyxNQUFNLEVBQUUsR0FBR25ELElBQUlNLEtBQUs7SUFDbEMsTUFBTThDLGlCQUFpQkYsUUFBUTtJQUMvQixNQUFNRyxlQUFlRixVQUFVLE1BQU0sWUFBWTtJQUVqRCxJQUFJLEtBQThDLEVBQUUsRUFFbkQ7SUFFRCxJQUFJO1FBQ0YsbURBQW1EO1FBQ25ELE1BQU1HLGFBQWEsQ0FBQywwREFBMEQsRUFBRS9CLG1CQUFtQjZCLGdCQUFnQixLQUFLLEVBQUU1Qyx5Q0FBNkMsQ0FBQyxDQUFDO1FBQ3pLLE1BQU0rQyxrQkFBa0IsTUFBTTFDLE1BQU15QztRQUNwQyxNQUFNRSxjQUFjLE1BQU1ELGdCQUFnQm5ELElBQUk7UUFDOUMsSUFBSSxDQUFDb0QsWUFBWTlCLE9BQU8sSUFBSThCLFlBQVk5QixPQUFPLENBQUNDLE1BQU0sS0FBSyxHQUFHO1lBQzVELE9BQU8xQixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO1lBQXFCO1FBQzlEO1FBQ0EsTUFBTSxFQUFFb0QsR0FBRyxFQUFFQyxHQUFHLEVBQUUsR0FBR0YsWUFBWTlCLE9BQU8sQ0FBQyxFQUFFLENBQUNpQyxRQUFRLENBQUNDLFFBQVE7UUFFN0QsaUVBQWlFO1FBQ2pFLE1BQU1DLGlCQUFpQjtZQUNyQjtZQUFjO1lBQXNCO1lBQW1CO1lBQVU7WUFBUztZQUFhO1lBQXNCO1lBQXlCO1lBQVc7WUFBVTtTQUM1SjtRQUNELElBQUlDLFlBQVksRUFBRTtRQUNsQixLQUFLLE1BQU1DLFdBQVdGLGVBQWdCO1lBQ3BDLE1BQU1HLE1BQU0sQ0FBQyxpRUFBaUUsRUFBRXpDLG1CQUFtQndDLFVBQVUsV0FBV1gsZ0JBQWdCLFVBQVUsRUFBRUssSUFBSSxDQUFDLEVBQUVDLElBQUksUUFBUSxFQUFFTCxhQUFhLEtBQUssRUFBRTdDLHlDQUE2QyxDQUFDLENBQUM7WUFDNU8sTUFBTXlELE9BQU8sTUFBTXBELE1BQU1tRDtZQUN6QixNQUFNRSxPQUFPLE1BQU1ELEtBQUs3RCxJQUFJO1lBQzVCLElBQUk4RCxLQUFLeEMsT0FBTyxJQUFJd0MsS0FBS3hDLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHLEdBQUc7Z0JBQzNDbUMsWUFBWUEsVUFBVUssTUFBTSxDQUFDRCxLQUFLeEMsT0FBTztZQUMzQztRQUNGO1FBQ0EsMEJBQTBCO1FBQzFCLE1BQU0wQyxPQUFPLElBQUlDO1FBQ2pCLElBQUlDLFNBQVNSLFVBQVVTLE1BQU0sQ0FBQ25DLENBQUFBO1lBQzVCLElBQUlnQyxLQUFLSSxHQUFHLENBQUNwQyxNQUFNRixRQUFRLEdBQUcsT0FBTztZQUNyQ2tDLEtBQUtLLEdBQUcsQ0FBQ3JDLE1BQU1GLFFBQVE7WUFDdkIsT0FBTztRQUNUO1FBQ0EsNkNBQTZDO1FBQzdDb0MsU0FBU0EsT0FBTzVCLEtBQUssQ0FBQyxHQUFHO1FBQ3pCLElBQUk0QixPQUFPM0MsTUFBTSxLQUFLLEdBQUc7WUFDdkIsT0FBTzFCLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7WUFBc0I7UUFDL0Q7UUFFQSwyQ0FBMkM7UUFDM0MsTUFBTXFFLGVBQWVKLE9BQU8zQixHQUFHLENBQUNQLENBQUFBLFFBQVMsQ0FBQyxFQUFFQSxNQUFNdUIsUUFBUSxDQUFDQyxRQUFRLENBQUNILEdBQUcsQ0FBQyxDQUFDLEVBQUVyQixNQUFNdUIsUUFBUSxDQUFDQyxRQUFRLENBQUNGLEdBQUcsQ0FBQyxDQUFDLEVBQUVpQixJQUFJLENBQUM7UUFDL0csTUFBTUMsU0FBUyxDQUFDLEVBQUVuQixJQUFJLENBQUMsRUFBRUMsSUFBSSxDQUFDO1FBQzlCLHNDQUFzQztRQUN0QyxJQUFJbUIsVUFBVUMsU0FBU0M7UUFDdkIsSUFBSTtZQUNGLENBQUNGLFVBQVVDLFNBQVNDLFFBQVEsR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7Z0JBQy9DcEUsTUFBTSxDQUFDLGlFQUFpRSxFQUFFK0QsT0FBTyxjQUFjLEVBQUVGLGFBQWEsa0JBQWtCLEVBQUVsRSx5Q0FBNkMsQ0FBQyxDQUFDO2dCQUNqTEssTUFBTSxDQUFDLGlFQUFpRSxFQUFFK0QsT0FBTyxjQUFjLEVBQUVGLGFBQWEsb0JBQW9CLEVBQUVsRSx5Q0FBNkMsQ0FBQyxDQUFDO2dCQUNuTEssTUFBTSxDQUFDLGlFQUFpRSxFQUFFK0QsT0FBTyxjQUFjLEVBQUVGLGFBQWEsa0JBQWtCLEVBQUVsRSx5Q0FBNkMsQ0FBQyxDQUFDO2FBQ2xMO1FBQ0gsRUFBRSxPQUFPMEUsS0FBSztZQUNaLE9BQU9qRixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO2dCQUFpRFcsT0FBT2tFLElBQUk3RSxPQUFPO1lBQUM7UUFDN0c7UUFDQSxJQUFJOEUsV0FBV0MsVUFBVUM7UUFDekIsSUFBSTtZQUNGLENBQUNGLFdBQVdDLFVBQVVDLFNBQVMsR0FBRyxNQUFNTCxRQUFRQyxHQUFHLENBQUM7Z0JBQ2xESixTQUFTekUsSUFBSTtnQkFDYjBFLFFBQVExRSxJQUFJO2dCQUNaMkUsUUFBUTNFLElBQUk7YUFDYjtRQUNILEVBQUUsT0FBTzhFLEtBQUs7WUFDWixPQUFPakYsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsU0FBUztnQkFBaURXLE9BQU9rRSxJQUFJN0UsT0FBTztZQUFDO1FBQzdHO1FBRUEsNEJBQTRCO1FBQzVCLE1BQU1pRixpQkFBaUI7WUFDckI7WUFBYTtZQUFzQjtZQUFXO1lBQXFCO1NBQ3BFO1FBQ0QsTUFBTUMsZ0JBQWdCO1lBQ3BCO1lBQVc7WUFBUztZQUFTO1lBQU87WUFBVTtZQUFlO1NBQzlEO1FBQ0QsTUFBTUMsb0JBQW9CO1lBQ3hCO1lBQWE7WUFBYztZQUFXO1lBQVc7WUFBUztZQUFTO1lBQWE7WUFBVztZQUFjO1lBQVc7WUFBVTtTQUMvSDtRQUNELE1BQU1DLGFBQWFuQixPQUNoQkMsTUFBTSxDQUFDbkMsQ0FBQUE7WUFDTixvREFBb0Q7WUFDcEQsSUFBSUEsTUFBTU4sS0FBSyxDQUFDQyxJQUFJLENBQUNDLENBQUFBLE9BQVF1RCxjQUFjdEQsUUFBUSxDQUFDRCxRQUFRLE9BQU87WUFDbkUsNkRBQTZEO1lBQzdELE1BQU0wRCxZQUFZdEQsTUFBTUQsSUFBSSxDQUFDd0QsV0FBVztZQUN4QyxNQUFNQyxVQUFVeEQsTUFBTU4sS0FBSyxDQUFDQyxJQUFJLENBQUNDLENBQUFBLE9BQVFzRCxlQUFlckQsUUFBUSxDQUFDRDtZQUNqRSxNQUFNNkQsYUFBYUwsa0JBQWtCekQsSUFBSSxDQUFDK0QsQ0FBQUEsS0FBTUosVUFBVXpELFFBQVEsQ0FBQzZEO1lBQ25FLE9BQU9GLFdBQVdDO1FBQ3BCLEdBQ0NsRCxHQUFHLENBQUMsQ0FBQ1AsT0FBTzJELElBQU87Z0JBQ2xCNUQsTUFBTUMsTUFBTUQsSUFBSTtnQkFDaEI2RCxTQUFTNUQsTUFBTTZELGlCQUFpQixJQUFJN0QsTUFBTThELFFBQVE7Z0JBQ2xENUQsUUFBUUYsTUFBTUUsTUFBTSxJQUFJO2dCQUN4QjZELGtCQUFrQi9ELE1BQU1JLGtCQUFrQixJQUFJO2dCQUM5Q2pDLFNBQVM2QixNQUFNRixRQUFRO2dCQUN2QjBCLFVBQVV4QixNQUFNdUIsUUFBUSxDQUFDQyxRQUFRO2dCQUNqQ3dDLE1BQU1oRSxNQUFNZ0UsSUFBSTtnQkFDaEJ0RSxPQUFPTSxNQUFNTixLQUFLO2dCQUNsQnVFLFVBQVVqRSxNQUFNa0UsTUFBTSxJQUFJbEUsTUFBTWtFLE1BQU0sQ0FBQzNFLE1BQU0sR0FBRyxJQUM1QyxDQUFDLDZFQUE2RSxFQUFFUyxNQUFNa0UsTUFBTSxDQUFDLEVBQUUsQ0FBQ0MsZUFBZSxDQUFDLEtBQUssRUFBRS9GLHlDQUE2QyxDQUFDLENBQUMsR0FDdEs7Z0JBQ0pnRyxVQUFVO29CQUNSQyxPQUFPdEIsVUFBVXVCLElBQUksQ0FBQyxFQUFFLENBQUNDLFFBQVEsQ0FBQ1osRUFBRSxDQUFDNUYsTUFBTSxLQUFLLE9BQU9nRixVQUFVdUIsSUFBSSxDQUFDLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDWixFQUFFLEdBQUc7b0JBQ3ZGYSxNQUFNeEIsU0FBU3NCLElBQUksQ0FBQyxFQUFFLENBQUNDLFFBQVEsQ0FBQ1osRUFBRSxDQUFDNUYsTUFBTSxLQUFLLE9BQU9pRixTQUFTc0IsSUFBSSxDQUFDLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDWixFQUFFLEdBQUc7b0JBQ3BGYyxNQUFNeEIsU0FBU3FCLElBQUksQ0FBQyxFQUFFLENBQUNDLFFBQVEsQ0FBQ1osRUFBRSxDQUFDNUYsTUFBTSxLQUFLLE9BQU9rRixTQUFTcUIsSUFBSSxDQUFDLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDWixFQUFFLEdBQUc7Z0JBQ3RGO1lBQ0Y7UUFFRjlGLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRXFGO1FBQVc7SUFDcEMsRUFBRSxPQUFPekUsT0FBTztRQUNkZixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7WUFBOEJXLE9BQU9BLE1BQU1YLE9BQU87UUFBQztJQUNyRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWdnaWVyb29taWUvLi9wYWdlcy9hcGkvZ29vZ2xlLXBsYWNlcy5qcz9mNTJkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gSWYgcGxhY2VJZCBpcyBwcm92aWRlZCwgZmV0Y2ggZGV0YWlscyBmb3IgYSBzcGVjaWZpYyBwbGFjZVxyXG4gIGlmIChyZXEucXVlcnkucGxhY2VJZCkge1xyXG4gICAgY29uc3QgcGxhY2VJZCA9IHJlcS5xdWVyeS5wbGFjZUlkO1xyXG4gICAgaWYgKCFwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19HT09HTEVfUExBQ0VTX0FQSV9LRVkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0dvb2dsZSBQbGFjZXMgQVBJIGtleSBub3QgY29uZmlndXJlZCcgfSk7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkZXRhaWxzVXJsID0gYGh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9wbGFjZS9kZXRhaWxzL2pzb24/cGxhY2VfaWQ9JHtwbGFjZUlkfSZmaWVsZHM9bmFtZSxmb3JtYXR0ZWRfYWRkcmVzcyxnZW9tZXRyeSxmb3JtYXR0ZWRfcGhvbmVfbnVtYmVyLHdlYnNpdGUsb3BlbmluZ19ob3VycyxwbHVzX2NvZGUsdHlwZXMscGhvdG9zJmtleT0ke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9QTEFDRVNfQVBJX0tFWX1gO1xyXG4gICAgICBjb25zdCBkZXRhaWxzUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChkZXRhaWxzVXJsKTtcclxuICAgICAgY29uc3QgZGV0YWlsc0RhdGEgPSBhd2FpdCBkZXRhaWxzUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBpZiAoIWRldGFpbHNEYXRhLnJlc3VsdCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQbGFjZSBkZXRhaWxzIG5vdCBmb3VuZCcgfSk7XHJcbiAgICAgIH1cclxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZGV0YWlsc0RhdGEucmVzdWx0KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIHBsYWNlIGRldGFpbHMnLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBkb3JtTmFtZSB9ID0gcmVxLnF1ZXJ5O1xyXG4gIGlmICghZG9ybU5hbWUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdEb3JtIG5hbWUgaXMgcmVxdWlyZWQnIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19HT09HTEVfUExBQ0VTX0FQSV9LRVkpIHtcclxuICAgIGNvbnNvbGUubG9nKCdBUEkgS2V5IG1pc3Npbmc6JywgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX1BMQUNFU19BUElfS0VZKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdHb29nbGUgUGxhY2VzIEFQSSBrZXkgbm90IGNvbmZpZ3VyZWQnIH0pO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyByZXZpZXdzIGZvcjonLCBkb3JtTmFtZSk7XHJcbiAgICBcclxuICAgIC8vIFNlYXJjaCBmb3IgdGhlIGRvcm1cclxuICAgIGNvbnN0IHNlYXJjaFF1ZXJpZXMgPSBbXHJcbiAgICAgIGAke2Rvcm1OYW1lfSBUZXhhcyBBJk0gVW5pdmVyc2l0eWAsXHJcbiAgICAgIGAke2Rvcm1OYW1lfSBkb3JtIFRleGFzIEEmTWAsXHJcbiAgICAgIGAke2Rvcm1OYW1lfSBDb2xsZWdlIFN0YXRpb24gVFhgXHJcbiAgICBdO1xyXG5cclxuICAgIGxldCBwbGFjZUlkID0gbnVsbDtcclxuICAgIGxldCBwbGFjZU5hbWUgPSAnJztcclxuXHJcbiAgICBmb3IgKGNvbnN0IHF1ZXJ5IG9mIHNlYXJjaFF1ZXJpZXMpIHtcclxuICAgICAgY29uc3Qgc2VhcmNoVXJsID0gYGh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9wbGFjZS90ZXh0c2VhcmNoL2pzb24/cXVlcnk9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZrZXk9JHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19HT09HTEVfUExBQ0VTX0FQSV9LRVl9YDtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHNlYXJjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2VhcmNoVXJsKTtcclxuICAgICAgY29uc3Qgc2VhcmNoRGF0YSA9IGF3YWl0IHNlYXJjaFJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgIGlmIChzZWFyY2hEYXRhLnJlc3VsdHMgJiYgc2VhcmNoRGF0YS5yZXN1bHRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBzZWFyY2hEYXRhLnJlc3VsdHNbMF07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIHJlbGV2YW50IHJlc3VsdCAodW5pdmVyc2l0eSwgbG9kZ2luZywgZXRjLilcclxuICAgICAgICBjb25zdCByZWxldmFudFR5cGVzID0gWyd1bml2ZXJzaXR5JywgJ2xvZGdpbmcnLCAnZXN0YWJsaXNobWVudCcsICdwb2ludF9vZl9pbnRlcmVzdCddO1xyXG4gICAgICAgIGNvbnN0IGlzUmVsZXZhbnQgPSByZXN1bHQudHlwZXMuc29tZSh0eXBlID0+IHJlbGV2YW50VHlwZXMuaW5jbHVkZXModHlwZSkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc1JlbGV2YW50KSB7XHJcbiAgICAgICAgICBwbGFjZUlkID0gcmVzdWx0LnBsYWNlX2lkO1xyXG4gICAgICAgICAgcGxhY2VOYW1lID0gcmVzdWx0Lm5hbWU7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgcGxhY2U6JywgcGxhY2VOYW1lLCAnd2l0aCBJRDonLCBwbGFjZUlkKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcGxhY2VJZCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnTm8gcGxhY2UgZm91bmQgZm9yOicsIGRvcm1OYW1lKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ05vIHJlbGV2YW50IHBsYWNlIGZvdW5kJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgZGV0YWlsZWQgaW5mb3JtYXRpb24gaW5jbHVkaW5nIHJldmlld3NcclxuICAgIGNvbnN0IGRldGFpbHNVcmwgPSBgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL3BsYWNlL2RldGFpbHMvanNvbj9wbGFjZV9pZD0ke3BsYWNlSWR9JmZpZWxkcz1uYW1lLHJhdGluZyxyZXZpZXdzLHVzZXJfcmF0aW5nc190b3RhbCZrZXk9JHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19HT09HTEVfUExBQ0VTX0FQSV9LRVl9YDtcclxuICAgIGNvbnN0IGRldGFpbHNSZXNwb25zZSA9IGF3YWl0IGZldGNoKGRldGFpbHNVcmwpO1xyXG4gICAgY29uc3QgZGV0YWlsc0RhdGEgPSBhd2FpdCBkZXRhaWxzUmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgIGlmICghZGV0YWlsc0RhdGEucmVzdWx0KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdObyBkZXRhaWxzIGZvdW5kIGZvciBwbGFjZSBJRDonLCBwbGFjZUlkKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1BsYWNlIGRldGFpbHMgbm90IGZvdW5kJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwbGFjZSA9IGRldGFpbHNEYXRhLnJlc3VsdDtcclxuICAgIGNvbnN0IHJldmlld0RhdGEgPSB7XHJcbiAgICAgIG5hbWU6IHBsYWNlLm5hbWUsXHJcbiAgICAgIHJhdGluZzogcGxhY2UucmF0aW5nIHx8IDAsXHJcbiAgICAgIHJldmlld3M6IHBsYWNlLnVzZXJfcmF0aW5nc190b3RhbCB8fCAwLFxyXG4gICAgICByZWNlbnRSZXZpZXdzOiBbXVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBFeHRyYWN0IHJlY2VudCByZXZpZXdzIGlmIGF2YWlsYWJsZVxyXG4gICAgaWYgKHBsYWNlLnJldmlld3MgJiYgcGxhY2UucmV2aWV3cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldmlld0RhdGEucmVjZW50UmV2aWV3cyA9IHBsYWNlLnJldmlld3Muc2xpY2UoMCwgMykubWFwKHJldmlldyA9PiAoe1xyXG4gICAgICAgIGF1dGhvcjogcmV2aWV3LmF1dGhvcl9uYW1lLFxyXG4gICAgICAgIHJhdGluZzogcmV2aWV3LnJhdGluZyxcclxuICAgICAgICB0ZXh0OiByZXZpZXcudGV4dC5zdWJzdHJpbmcoMCwgMjAwKSArIChyZXZpZXcudGV4dC5sZW5ndGggPiAyMDAgPyAnLi4uJyA6ICcnKVxyXG4gICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ1JldHVybmluZyByZXZpZXcgZGF0YTonLCByZXZpZXdEYXRhKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJldmlld0RhdGEpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBHb29nbGUgUGxhY2VzIEFQSTonLCBlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggcGxhY2UgZGF0YScgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBOZXcgaGFuZGxlciBmb3IgYXBhcnRtZW50IHNlYXJjaFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBhcnRtZW50c0hhbmRsZXIocmVxLCByZXMpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgeyBuZWFyLCByYWRpdXMgfSA9IHJlcS5xdWVyeTtcclxuICBjb25zdCBzZWFyY2hMb2NhdGlvbiA9IG5lYXIgfHwgJ1RleGFzIEEmTSBVbml2ZXJzaXR5LCBDb2xsZWdlIFN0YXRpb24sIFRYJztcclxuICBjb25zdCBzZWFyY2hSYWRpdXMgPSByYWRpdXMgfHwgMzAwMDsgLy8gaW4gbWV0ZXJzXHJcblxyXG4gIGlmICghcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX1BMQUNFU19BUElfS0VZKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnR29vZ2xlIFBsYWNlcyBBUEkga2V5IG5vdCBjb25maWd1cmVkJyB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgY29vcmRpbmF0ZXMgZm9yIHRoZSBzZWFyY2ggbG9jYXRpb24gKGNhbXB1cylcclxuICAgIGNvbnN0IGdlb2NvZGVVcmwgPSBgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2dlb2NvZGUvanNvbj9hZGRyZXNzPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNlYXJjaExvY2F0aW9uKX0ma2V5PSR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX1BMQUNFU19BUElfS0VZfWA7XHJcbiAgICBjb25zdCBnZW9jb2RlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChnZW9jb2RlVXJsKTtcclxuICAgIGNvbnN0IGdlb2NvZGVEYXRhID0gYXdhaXQgZ2VvY29kZVJlc3BvbnNlLmpzb24oKTtcclxuICAgIGlmICghZ2VvY29kZURhdGEucmVzdWx0cyB8fCBnZW9jb2RlRGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnTG9jYXRpb24gbm90IGZvdW5kJyB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgbGF0LCBsbmcgfSA9IGdlb2NvZGVEYXRhLnJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb247XHJcblxyXG4gICAgLy8gUnVuIG11bHRpcGxlIHRleHRzZWFyY2ggcXVlcmllcyBmb3IgYnJvYWRlciBhcGFydG1lbnQgY292ZXJhZ2VcclxuICAgIGNvbnN0IHNlYXJjaEtleXdvcmRzID0gW1xyXG4gICAgICAnYXBhcnRtZW50cycsICdzdHVkZW50IGFwYXJ0bWVudHMnLCAnc3R1ZGVudCBob3VzaW5nJywgJ2NvbmRvcycsICdsb2Z0cycsICdyZXNpZGVuY2UnLCAnY29sbGVnZSBhcGFydG1lbnRzJywgJ3VuaXZlcnNpdHkgYXBhcnRtZW50cycsICdob3VzaW5nJywgJ0FzcGlyZScsICdDaXR5IEhlaWdodHMgYXQgQ29sbGVnZSBTdGF0aW9uJ1xyXG4gICAgXTtcclxuICAgIGxldCBhbGxQbGFjZXMgPSBbXTtcclxuICAgIGZvciAoY29uc3Qga2V5d29yZCBvZiBzZWFyY2hLZXl3b3Jkcykge1xyXG4gICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL3BsYWNlL3RleHRzZWFyY2gvanNvbj9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChrZXl3b3JkICsgJyBuZWFyICcgKyBzZWFyY2hMb2NhdGlvbil9JmxvY2F0aW9uPSR7bGF0fSwke2xuZ30mcmFkaXVzPSR7c2VhcmNoUmFkaXVzfSZrZXk9JHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19HT09HTEVfUExBQ0VTX0FQSV9LRVl9YDtcclxuICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHVybCk7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwLmpzb24oKTtcclxuICAgICAgaWYgKGRhdGEucmVzdWx0cyAmJiBkYXRhLnJlc3VsdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGFsbFBsYWNlcyA9IGFsbFBsYWNlcy5jb25jYXQoZGF0YS5yZXN1bHRzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gRGVkdXBsaWNhdGUgYnkgcGxhY2VfaWRcclxuICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0KCk7XHJcbiAgICBsZXQgcGxhY2VzID0gYWxsUGxhY2VzLmZpbHRlcihwbGFjZSA9PiB7XHJcbiAgICAgIGlmIChzZWVuLmhhcyhwbGFjZS5wbGFjZV9pZCkpIHJldHVybiBmYWxzZTtcclxuICAgICAgc2Vlbi5hZGQocGxhY2UucGxhY2VfaWQpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgLy8gTGltaXQgdG8gMjAgcGxhY2VzIGZvciBEaXN0YW5jZSBNYXRyaXggQVBJXHJcbiAgICBwbGFjZXMgPSBwbGFjZXMuc2xpY2UoMCwgMjApO1xyXG4gICAgaWYgKHBsYWNlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ05vIGFwYXJ0bWVudHMgZm91bmQnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXBhcmUgZGVzdGluYXRpb25zIGZvciBEaXN0YW5jZSBNYXRyaXhcclxuICAgIGNvbnN0IGRlc3RpbmF0aW9ucyA9IHBsYWNlcy5tYXAocGxhY2UgPT4gYCR7cGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubGF0fSwke3BsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxuZ31gKS5qb2luKCd8Jyk7XHJcbiAgICBjb25zdCBvcmlnaW4gPSBgJHtsYXR9LCR7bG5nfWA7XHJcbiAgICAvLyBHZXQgZGlzdGFuY2VzIGZvciBkcml2ZSwgYmlrZSwgd2Fsa1xyXG4gICAgbGV0IGRyaXZlUmVzLCBiaWtlUmVzLCB3YWxrUmVzO1xyXG4gICAgdHJ5IHtcclxuICAgICAgW2RyaXZlUmVzLCBiaWtlUmVzLCB3YWxrUmVzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICBmZXRjaChgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2Rpc3RhbmNlbWF0cml4L2pzb24/b3JpZ2lucz0ke29yaWdpbn0mZGVzdGluYXRpb25zPSR7ZGVzdGluYXRpb25zfSZtb2RlPWRyaXZpbmcma2V5PSR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX1BMQUNFU19BUElfS0VZfWApLFxyXG4gICAgICAgIGZldGNoKGBodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZGlzdGFuY2VtYXRyaXgvanNvbj9vcmlnaW5zPSR7b3JpZ2lufSZkZXN0aW5hdGlvbnM9JHtkZXN0aW5hdGlvbnN9Jm1vZGU9YmljeWNsaW5nJmtleT0ke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9QTEFDRVNfQVBJX0tFWX1gKSxcclxuICAgICAgICBmZXRjaChgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2Rpc3RhbmNlbWF0cml4L2pzb24/b3JpZ2lucz0ke29yaWdpbn0mZGVzdGluYXRpb25zPSR7ZGVzdGluYXRpb25zfSZtb2RlPXdhbGtpbmcma2V5PSR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX1BMQUNFU19BUElfS0VZfWApXHJcbiAgICAgIF0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gZmV0Y2ggZGlzdGFuY2UgZGF0YSBmcm9tIEdvb2dsZSBBUEknLCBlcnJvcjogZXJyLm1lc3NhZ2UgfSk7XHJcbiAgICB9XHJcbiAgICBsZXQgZHJpdmVEYXRhLCBiaWtlRGF0YSwgd2Fsa0RhdGE7XHJcbiAgICB0cnkge1xyXG4gICAgICBbZHJpdmVEYXRhLCBiaWtlRGF0YSwgd2Fsa0RhdGFdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIGRyaXZlUmVzLmpzb24oKSxcclxuICAgICAgICBiaWtlUmVzLmpzb24oKSxcclxuICAgICAgICB3YWxrUmVzLmpzb24oKVxyXG4gICAgICBdKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRmFpbGVkIHRvIHBhcnNlIGRpc3RhbmNlIGRhdGEgZnJvbSBHb29nbGUgQVBJJywgZXJyb3I6IGVyci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwYXJ0bWVudCBmaWx0ZXJpbmcgbG9naWNcclxuICAgIGNvbnN0IGFwYXJ0bWVudFR5cGVzID0gW1xyXG4gICAgICAnYXBhcnRtZW50JywgJ3JlYWxfZXN0YXRlX2FnZW5jeScsICdwcmVtaXNlJywgJ3BvaW50X29mX2ludGVyZXN0JywgJ2VzdGFibGlzaG1lbnQnXHJcbiAgICBdO1xyXG4gICAgY29uc3QgZXhjbHVkZWRUeXBlcyA9IFtcclxuICAgICAgJ2xvZGdpbmcnLCAnaG90ZWwnLCAnbW90ZWwnLCAnaW5uJywgJ2hvc3RlbCcsICdndWVzdF9ob3VzZScsICdiZWRfYW5kX2JyZWFrZmFzdCdcclxuICAgIF07XHJcbiAgICBjb25zdCBhcGFydG1lbnRLZXl3b3JkcyA9IFtcclxuICAgICAgJ2FwYXJ0bWVudCcsICdhcGFydG1lbnRzJywgJ3N0dWRlbnQnLCAnaG91c2luZycsICdsb2Z0cycsICdjb25kbycsICdyZXNpZGVuY2UnLCAnY29sbGVnZScsICd1bml2ZXJzaXR5JywgJ2hlaWdodHMnLCAnYXNwaXJlJywgJ2NpdHkgaGVpZ2h0cydcclxuICAgIF07XHJcbiAgICBjb25zdCBhcGFydG1lbnRzID0gcGxhY2VzXHJcbiAgICAgIC5maWx0ZXIocGxhY2UgPT4ge1xyXG4gICAgICAgIC8vIEV4Y2x1ZGUgaG90ZWxzLCBtb3RlbHMsIGlubnMsIGFuZCBzaW1pbGFyIGxvZGdpbmdcclxuICAgICAgICBpZiAocGxhY2UudHlwZXMuc29tZSh0eXBlID0+IGV4Y2x1ZGVkVHlwZXMuaW5jbHVkZXModHlwZSkpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gTXVzdCBoYXZlIGFuIGFwYXJ0bWVudC1yZWxhdGVkIHR5cGUgb3Iga2V5d29yZCBpbiB0aGUgbmFtZVxyXG4gICAgICAgIGNvbnN0IG5hbWVMb3dlciA9IHBsYWNlLm5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBjb25zdCBoYXNUeXBlID0gcGxhY2UudHlwZXMuc29tZSh0eXBlID0+IGFwYXJ0bWVudFR5cGVzLmluY2x1ZGVzKHR5cGUpKTtcclxuICAgICAgICBjb25zdCBoYXNLZXl3b3JkID0gYXBhcnRtZW50S2V5d29yZHMuc29tZShrdyA9PiBuYW1lTG93ZXIuaW5jbHVkZXMoa3cpKTtcclxuICAgICAgICByZXR1cm4gaGFzVHlwZSB8fCBoYXNLZXl3b3JkO1xyXG4gICAgICB9KVxyXG4gICAgICAubWFwKChwbGFjZSwgaSkgPT4gKHtcclxuICAgICAgICBuYW1lOiBwbGFjZS5uYW1lLFxyXG4gICAgICAgIGFkZHJlc3M6IHBsYWNlLmZvcm1hdHRlZF9hZGRyZXNzIHx8IHBsYWNlLnZpY2luaXR5LFxyXG4gICAgICAgIHJhdGluZzogcGxhY2UucmF0aW5nIHx8IG51bGwsXHJcbiAgICAgICAgdXNlclJhdGluZ3NUb3RhbDogcGxhY2UudXNlcl9yYXRpbmdzX3RvdGFsIHx8IG51bGwsXHJcbiAgICAgICAgcGxhY2VJZDogcGxhY2UucGxhY2VfaWQsXHJcbiAgICAgICAgbG9jYXRpb246IHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLFxyXG4gICAgICAgIGljb246IHBsYWNlLmljb24sXHJcbiAgICAgICAgdHlwZXM6IHBsYWNlLnR5cGVzLFxyXG4gICAgICAgIHBob3RvVXJsOiBwbGFjZS5waG90b3MgJiYgcGxhY2UucGhvdG9zLmxlbmd0aCA+IDBcclxuICAgICAgICAgID8gYGh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9wbGFjZS9waG90bz9tYXh3aWR0aD00MDAmcGhvdG9yZWZlcmVuY2U9JHtwbGFjZS5waG90b3NbMF0ucGhvdG9fcmVmZXJlbmNlfSZrZXk9JHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19HT09HTEVfUExBQ0VTX0FQSV9LRVl9YFxyXG4gICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgIGRpc3RhbmNlOiB7XHJcbiAgICAgICAgICBkcml2ZTogZHJpdmVEYXRhLnJvd3NbMF0uZWxlbWVudHNbaV0uc3RhdHVzID09PSAnT0snID8gZHJpdmVEYXRhLnJvd3NbMF0uZWxlbWVudHNbaV0gOiBudWxsLFxyXG4gICAgICAgICAgYmlrZTogYmlrZURhdGEucm93c1swXS5lbGVtZW50c1tpXS5zdGF0dXMgPT09ICdPSycgPyBiaWtlRGF0YS5yb3dzWzBdLmVsZW1lbnRzW2ldIDogbnVsbCxcclxuICAgICAgICAgIHdhbGs6IHdhbGtEYXRhLnJvd3NbMF0uZWxlbWVudHNbaV0uc3RhdHVzID09PSAnT0snID8gd2Fsa0RhdGEucm93c1swXS5lbGVtZW50c1tpXSA6IG51bGxcclxuICAgICAgICB9XHJcbiAgICAgIH0pKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGFwYXJ0bWVudHMgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ZhaWxlZCB0byBmZXRjaCBhcGFydG1lbnRzJywgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJxdWVyeSIsInBsYWNlSWQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfR09PR0xFX1BMQUNFU19BUElfS0VZIiwiZGV0YWlsc1VybCIsImRldGFpbHNSZXNwb25zZSIsImZldGNoIiwiZGV0YWlsc0RhdGEiLCJyZXN1bHQiLCJlcnJvciIsImRvcm1OYW1lIiwiY29uc29sZSIsImxvZyIsInNlYXJjaFF1ZXJpZXMiLCJwbGFjZU5hbWUiLCJzZWFyY2hVcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzZWFyY2hSZXNwb25zZSIsInNlYXJjaERhdGEiLCJyZXN1bHRzIiwibGVuZ3RoIiwicmVsZXZhbnRUeXBlcyIsImlzUmVsZXZhbnQiLCJ0eXBlcyIsInNvbWUiLCJ0eXBlIiwiaW5jbHVkZXMiLCJwbGFjZV9pZCIsIm5hbWUiLCJwbGFjZSIsInJldmlld0RhdGEiLCJyYXRpbmciLCJyZXZpZXdzIiwidXNlcl9yYXRpbmdzX3RvdGFsIiwicmVjZW50UmV2aWV3cyIsInNsaWNlIiwibWFwIiwicmV2aWV3IiwiYXV0aG9yIiwiYXV0aG9yX25hbWUiLCJ0ZXh0Iiwic3Vic3RyaW5nIiwiYXBhcnRtZW50c0hhbmRsZXIiLCJuZWFyIiwicmFkaXVzIiwic2VhcmNoTG9jYXRpb24iLCJzZWFyY2hSYWRpdXMiLCJnZW9jb2RlVXJsIiwiZ2VvY29kZVJlc3BvbnNlIiwiZ2VvY29kZURhdGEiLCJsYXQiLCJsbmciLCJnZW9tZXRyeSIsImxvY2F0aW9uIiwic2VhcmNoS2V5d29yZHMiLCJhbGxQbGFjZXMiLCJrZXl3b3JkIiwidXJsIiwicmVzcCIsImRhdGEiLCJjb25jYXQiLCJzZWVuIiwiU2V0IiwicGxhY2VzIiwiZmlsdGVyIiwiaGFzIiwiYWRkIiwiZGVzdGluYXRpb25zIiwiam9pbiIsIm9yaWdpbiIsImRyaXZlUmVzIiwiYmlrZVJlcyIsIndhbGtSZXMiLCJQcm9taXNlIiwiYWxsIiwiZXJyIiwiZHJpdmVEYXRhIiwiYmlrZURhdGEiLCJ3YWxrRGF0YSIsImFwYXJ0bWVudFR5cGVzIiwiZXhjbHVkZWRUeXBlcyIsImFwYXJ0bWVudEtleXdvcmRzIiwiYXBhcnRtZW50cyIsIm5hbWVMb3dlciIsInRvTG93ZXJDYXNlIiwiaGFzVHlwZSIsImhhc0tleXdvcmQiLCJrdyIsImkiLCJhZGRyZXNzIiwiZm9ybWF0dGVkX2FkZHJlc3MiLCJ2aWNpbml0eSIsInVzZXJSYXRpbmdzVG90YWwiLCJpY29uIiwicGhvdG9VcmwiLCJwaG90b3MiLCJwaG90b19yZWZlcmVuY2UiLCJkaXN0YW5jZSIsImRyaXZlIiwicm93cyIsImVsZW1lbnRzIiwiYmlrZSIsIndhbGsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/google-places.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgoogle-places&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cgoogle-places.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();